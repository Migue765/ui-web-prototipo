<div class="app-layout">
    <!-- Sidebar -->
    <app-sidebar></app-sidebar>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Content Area with 2 columns -->
        <div class="content-area">
            <!-- Central Column - Main Content -->
            <section class="central-column">
                <!-- Page Title -->
                <header class="page-header">
                    <h1 class="heading-2">Sesión de Enfoque</h1>
                    <p class="body-text">Mantén la concentración y alcanza tus objetivos</p>
                </header>

                <!-- Timer Section -->
                <div class="timer-section">
                    <app-timer [initialMinutes]="25" [currentTask]="'Completar informe mensual'"
                        (timerComplete)="onTimerComplete()" (timerStateChange)="onTimerStateChange($event)">
                    </app-timer>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button *ngFor="let action of quickActions" class="quick-action-btn"
                        (click)="onQuickAction(action.action)">
                        <span class="action-icon">{{ action.icon }}</span>
                        <span class="action-label">{{ action.label }}</span>
                    </button>
                </div>
            </section>

            <!-- Right Column - Unified Stats Panel -->
            <aside class="right-column">
                <div class="stats-panel">
                    <!-- Quick Stats -->
                    <div class="quick-stats-section">
                        <h3 class="stats-title">Estadísticas Rápidas</h3>
                        <div class="stats-cards">
                            <app-stats-card *ngFor="let stat of quickStats" [stat]="stat" size="small">
                            </app-stats-card>
                        </div>
                    </div>

                    <!-- Today's Progress -->
                    <div class="progress-section">
                        <h3 class="section-title">Progreso de Hoy</h3>
                        <div class="progress-content">
                            <div class="progress-item">
                                <span class="progress-label">Meta diaria</span>
                                <span class="progress-value">{{ todayProgress.completed }} / {{ todayProgress.dailyGoal
                                    }}</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" [style.width.%]="todayProgress.percentage"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Tasks -->
                    <div class="tasks-section">
                        <h3 class="section-title">Tareas Recientes</h3>
                        <div class="tasks-list">
                            <div *ngFor="let task of recentTasks" class="task-item" [class.completed]="task.completed">
                                <span class="task-icon">{{ task.icon }}</span>
                                <span class="task-title">{{ task.title }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>
</div>

<router-outlet />